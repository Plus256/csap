CREATE TABLE user (
  id int(10) unsigned NOT NULL AUTO_INCREMENT,
  token varchar(255) NOT NULL,
  tokensecret varchar(255) NOT NULL,
  name varchar(100) NOT NULL,
  screenname varchar(100) NOT NULL,
  profileimageurl varchar(255) NOT NULL,
  created timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  KEY (token),
  PRIMARY KEY (id)
) ENGINE=InnoDB;

CREATE TABLE session (
  id int(10) unsigned NOT NULL AUTO_INCREMENT,
  user int(10) unsigned NOT NULL,
  created timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id),
  FOREIGN KEY (user) REFERENCES user(id)
) ENGINE=InnoDB;

CREATE TABLE message (
  id int(10) unsigned NOT NULL AUTO_INCREMENT,
  sender int(10) unsigned NOT NULL,
  receiver int(10) unsigned NOT NULL,
  text varchar(255) NOT NULL,
  created timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id),
  FOREIGN KEY (sender) REFERENCES user(id),
  FOREIGN KEY (receiver) REFERENCES user(id)
) ENGINE=InnoDB;